Index: Database/Context/Context.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using System.Reflection;\r\nusing AjKpi.Database.Constants;\r\nusing AjKpi.Domain.Common;\r\nusing AjKpi.Database.Common;\r\nusing MediatR;\r\n\r\n\r\nnamespace AjKpi.Database;\r\n\r\npublic sealed class Context : DbContext\r\n{\r\n    private readonly IMediator _mediator;\r\n\r\n    public Context(DbContextOptions options, IMediator mediator) : base(options)\r\n    {\r\n        _mediator = mediator;\r\n    }\r\n\r\n    protected override void OnModelCreating(ModelBuilder builder)\r\n    {\r\n        //System.Diagnostics.Debugger.Launch();\r\n        base.OnModelCreating(builder);\r\n        //System.Diagnostics.Debugger.Launch();\r\n        var domainTypes = Assembly\r\n            .GetAssembly(typeof(Domain._IAssemblyMark))\r\n            .GetTypes()\r\n            .Where(\r\n                myType =>\r\n                    (myType.IsClass) && !myType.IsAbstract && myType.IsSubclassOf(typeof(BaseEntity))\r\n            )\r\n            .ToList();\r\n\r\n        builder.ApplyConvention(domainTypes, DatabaseConstants.DB_SCHEMA_NAME);\r\n\r\n        foreach (var entity in builder.Model.GetEntityTypes())\r\n        {\r\n            foreach (var property in entity.GetProperties())\r\n            {\r\n                //if (entity.Name == nameof(Auth))\r\n\r\n                property.SetColumnName(property.Name.ToUpperUnderscoreColumnName());\r\n            }\r\n        }\r\n\r\n        builder.ApplyConfigurationsFromAssembly(typeof(_IAssemblyMark).Assembly);\r\n\r\n        builder.ApplyConfigurationsFromAssembly(typeof(Context).Assembly).Seed();\r\n    }\r\n\r\n\r\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n    {\r\n        base.OnConfiguring(optionsBuilder);\r\n    }\r\n    // protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n    // {\r\n    //     //optionsBuilder.UseLazyLoadingProxies(false);\r\n    //     //optionsBuilder.AddInterceptors(_auditableEntitySaveChangesInterceptor);\r\n    //     //base on\r\n    // }\r\n\r\n    public override async Task<int> SaveChangesAsync(bool acceptAllChangesOnSuccess,\r\n        CancellationToken cancellationToken = new CancellationToken())\r\n    {\r\n        await _mediator.DispatchDomainEvents(this);\r\n        return await base.SaveChangesAsync(acceptAllChangesOnSuccess, cancellationToken);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Database/Context/Context.cs b/Database/Context/Context.cs
--- a/Database/Context/Context.cs	(revision b6632af88bd9b51924207cc44c5c43e1db4b0fde)
+++ b/Database/Context/Context.cs	(date 1727595860318)
@@ -48,20 +48,23 @@
     }
 
 
+    // protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
+    // {
+    //     base.OnConfiguring(optionsBuilder);
+    // }
     protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
     {
+        //optionsBuilder.AddInterceptors();
         base.OnConfiguring(optionsBuilder);
+        //optionsBuilder.UseLazyLoadingProxies(false);
+        //optionsBuilder.AddInterceptors(new AuditableEntitySaveChangesInterceptor(""));
+        //base on
     }
-    // protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
-    // {
-    //     //optionsBuilder.UseLazyLoadingProxies(false);
-    //     //optionsBuilder.AddInterceptors(_auditableEntitySaveChangesInterceptor);
-    //     //base on
-    // }
 
     public override async Task<int> SaveChangesAsync(bool acceptAllChangesOnSuccess,
         CancellationToken cancellationToken = new CancellationToken())
     {
+
         await _mediator.DispatchDomainEvents(this);
         return await base.SaveChangesAsync(acceptAllChangesOnSuccess, cancellationToken);
     }
Index: Database/Common/AuditableEntitySaveChangesInterceptor.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Database/Common/AuditableEntitySaveChangesInterceptor.cs b/Database/Common/AuditableEntitySaveChangesInterceptor.cs
new file mode 100644
--- /dev/null	(date 1727595786391)
+++ b/Database/Common/AuditableEntitySaveChangesInterceptor.cs	(date 1727595786391)
@@ -0,0 +1,24 @@
+// using Microsoft.EntityFrameworkCore.Diagnostics;
+//
+// namespace AjKpi.Database.Common;
+//
+// public class AuditableEntitySaveChangesInterceptor :  ISaveChangesInterceptor
+// {
+//     private readonly string _currentUser;
+//     public AuditableEntitySaveChangesInterceptor(string currentUser)
+//     {
+//         _currentUser = currentUser;
+//     }
+//
+//     public async ValueTask<InterceptionResult<int>> SavingChangesAsync(
+//         DbContextEventData eventData, InterceptionResult<int> result, CancellationToken cancellationToken)
+//     {
+//         if (eventData.Context is not null)
+//         {
+//             UpdateAuditableEntities(eventData.Context);
+//         }
+//
+//         return await base.SavingChangesAsync(eventData, result, cancellationToken);
+//     }
+//
+// }
Index: Application/AjKpi.Application.csproj
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><Project Sdk=\"Microsoft.NET.Sdk\">\r\n    <PropertyGroup>\r\n      <Nullable>annotations</Nullable>\r\n      <RootNamespace>AjKpi.Application</RootNamespace>\r\n    </PropertyGroup>\r\n    <ItemGroup>\r\n        <PackageReference Include=\"DotNetCore.Results\" />\r\n        <PackageReference Include=\"DotNetCore.Security\" />\r\n        <PackageReference Include=\"Microsoft.Extensions.Localization\" />\r\n    </ItemGroup>\r\n    <ItemGroup>\r\n        <ProjectReference Include=\"..\\Database\\AjKpi.Database.csproj\" />\r\n    </ItemGroup>\r\n    <ItemGroup>\r\n        <Using Include=\"AjKpi.Database\" />\r\n        <Using Include=\"AjKpi.Domain\" />\r\n        <Using Include=\"AjKpi.Model\" />\r\n        <Using Include=\"DotNetCore.EntityFrameworkCore\" />\r\n        <Using Include=\"DotNetCore.Extensions\" />\r\n        <Using Include=\"DotNetCore.Objects\" />\r\n        <Using Include=\"DotNetCore.Results\" />\r\n        <Using Include=\"DotNetCore.Security\" />\r\n        <Using Include=\"FluentValidation\" />\r\n        <Using Include=\"FluentValidation\" />\r\n        <Using Include=\"Microsoft.Extensions.Localization\" />\r\n        <Using Include=\"System.Security.Claims\" />\r\n    </ItemGroup>\r\n</Project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Application/AjKpi.Application.csproj b/Application/AjKpi.Application.csproj
--- a/Application/AjKpi.Application.csproj	(revision b6632af88bd9b51924207cc44c5c43e1db4b0fde)
+++ b/Application/AjKpi.Application.csproj	(date 1727593513015)
@@ -25,4 +25,9 @@
         <Using Include="Microsoft.Extensions.Localization" />
         <Using Include="System.Security.Claims" />
     </ItemGroup>
+    <ItemGroup>
+      <Reference Include="Microsoft.AspNetCore.Http.Abstractions">
+        <HintPath>..\..\..\..\Program Files\dotnet\shared\Microsoft.AspNetCore.App\8.0.3\Microsoft.AspNetCore.Http.Abstractions.dll</HintPath>
+      </Reference>
+    </ItemGroup>
 </Project>
\ No newline at end of file
Index: .idea/.idea.Epmo/.idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoGeneratedRunConfigurationManager\">\r\n    <projectFile profileName=\"Run\">Web/Epmo.Web.csproj</projectFile>\r\n  </component>\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"17a39ca1-9239-4a14-b61c-3fa5b9e2f69b\" name=\"Changes\" comment=\"Fix\">\r\n      <change afterPath=\"$PROJECT_DIR$/Database/Repositories/CustomeRepositories/IRoleRepository.cs\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/Database/Repositories/CustomeRepositories/RoleRepository.cs\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/.idea.Epmo/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/.idea.Epmo/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Application/Auth/AuthHandler.cs\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Application/Auth/AuthHandler.cs\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Application/Lookup/AutoComplete/AutoCompleteLookupHandler.cs\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Application/Lookup/AutoComplete/AutoCompleteLookupHandler.cs\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Database/CustomeRepositories/Auth/AuthRepository.cs\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Database/CustomeRepositories/Auth/AuthRepository.cs\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Database/CustomeRepositories/User/UserRepository.cs\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Database/CustomeRepositories/User/UserRepository.cs\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/EndPoint/UserEndpoints.cs\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/EndPoint/UserEndpoints.cs\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/Frontend/src/app/components/grid/grid.model.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/Frontend/src/app/components/grid/grid.model.ts\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/Frontend/src/app/models/user.model.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/Frontend/src/app/models/user.model.ts\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.ts\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/user.route.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/user.route.ts\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.ts\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"DpaMonitoringSettings\">\r\n    <option name=\"autoShow\" value=\"false\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"CSS File\" />\r\n        <option value=\"HTML File\" />\r\n        <option value=\"SCSS File\" />\r\n        <option value=\"TypeScript JSX File\" />\r\n        <option value=\"TypeScript File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$/..\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;OmarHamdan95&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/OmarHamdan95/AJKpi.git&quot;,\r\n    &quot;accountId&quot;: &quot;241df36d-d44e-4377-bf93-9be962a60b86&quot;\r\n  }\r\n}</component>\r\n  <component name=\"HighlightingSettingsPerFile\">\r\n    <setting file=\"mock:///Dummy.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Application/User/Add/AddUserHandler.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Application/User/Add/AddUserHandler.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Common/ModelBuilderExtensions.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Configuration/AuthConfiguration.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Configuration/ExampleConfiguration.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Constants/DatabaseConstants.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Context/ContextFactory.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Context/ContextSeed.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/CustomeRepositories/Example/ExampleRepository.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Persistence/Migrations/ContextModelSnapshot.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Persistence/Migrations/ContextModelSnapshot.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Database/Repositories/CustomeRepositories/LookupValueRepository.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Domain/Entity/Auth.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Domain/Entity/DynamicField.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Domain/Entity/Example.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Domain/Entity/LookupValue.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Domain/Entity/SystemMenu.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Domain/Entity/Translation.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Domain/Entity/TranslationValue.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Model/Lookup/LookupValueModel.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Model/SystemMenu/SystemMenuModel.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/AppSettings.json\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$PROJECT_DIR$/Web/Controllers/AttachmentController.cs\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Controllers/ExampleController.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Controllers/TranslationController.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/EndPoint/DynamicFieldEndPoints.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/EndPoint/EndPointExtension.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Frontend/angular.json\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Frontend/angular.json\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Frontend/package.json\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Frontend/package.json\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Program.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"mock://C:/GithubRepo/AJKpi/source/Web/Program.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/aspnetcore/88ec3bc3f37e76fbcc932a25f9f0c1c29fe2b343/src/Http/Routing/src/Builder/EndpointRouteBuilderExtensions.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/aspnetcore/88ec3bc3f37e76fbcc932a25f9f0c1c29fe2b343/src/Http/Routing/src/Builder/RouteHandlerBuilder.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/runtime/9f4b1f5d664afdfc80e1508ab7ed099dff210fbd/src/libraries/System.Private.CoreLib/src/System/Runtime/ExceptionServices/ExceptionDispatchInfo.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/3d/c9c56b95/GridExtensions.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/61/363cb2d1/Grid`1.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/61/4878af4b/GridParameters.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/d1/ad3dc7e9/Filters.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/1098dce64fce45929810736f4c63e7833800/60/e08f19e8/ResultExtensions.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/3459a27864fe43eba775a67d638a3b152400/cc/fbc74456/IJwtService.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/684ce054b39a492bab9eb23d9d00b1dc1c00/43/fe77f391/Repository`1.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/89bb3aceaf744ad5a2e74da5e64268601c00/9b/14acdc50/Extensions.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/c266ada0d74c45eeb13673b0a5698cee2000/d6/5df7c333/Result`1.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/e40bcfedee354eb1926b8a552de740b43a00/49/ef9a07fd/IUnitOfWork.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/e40bcfedee354eb1926b8a552de740b43a00/eb/bf78c3de/UnitOfWork`1.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/6ab065e71b67a58353252c508034d8ce99cd5d107af61c5b67ec32c6e63c3e68/MySqlDbContextOptionsBuilderExtensions.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/831dd819e356bcbbca7251efe53af23551b77c6ee16da4c74a7411355e8253/MySqlServerVersion.cs\" root0=\"SKIP_HIGHLIGHTING\" />\r\n    <setting file=\"file://$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/a89238f783113aedddac86be07ac171dedee43198ca6a1f8172cf26b8ce064/MySqlConnectorServiceCollectionExtensions.cs\" root0=\"FORCE_HIGHLIGHTING\" />\r\n  </component>\r\n  <component name=\"MetaFilesCheckinStateConfiguration\" checkMetaFiles=\"true\" />\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 7\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2mA0nVI1LmmqWjEXoWjyehfsmxe\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"autoscrollFromSource\" value=\"true\" />\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;.NET Launch Settings Profile.AjKpi.Web: Run.executor&quot;: &quot;Debug&quot;,\r\n    &quot;DefaultHtmlFileTemplate&quot;: &quot;HTML File&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;main&quot;,\r\n    &quot;list.type.of.created.stylesheet&quot;: &quot;SCSS&quot;,\r\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\r\n    &quot;ts.external.directory.path&quot;: &quot;C:\\\\GithubRepo\\\\AJKpi\\\\source\\\\Web\\\\Frontend\\\\node_modules\\\\typescript\\\\lib&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  },\r\n  &quot;keyToStringList&quot;: {\r\n    &quot;rider.external.source.directories&quot;: [\r\n      &quot;C:\\\\Users\\\\o.hamdan\\\\AppData\\\\Roaming\\\\JetBrains\\\\Rider2024.1\\\\resharper-host\\\\DecompilerCache&quot;,\r\n      &quot;C:\\\\Users\\\\o.hamdan\\\\AppData\\\\Roaming\\\\JetBrains\\\\Rider2024.1\\\\resharper-host\\\\SourcesCache&quot;,\r\n      &quot;C:\\\\Users\\\\o.hamdan\\\\AppData\\\\Local\\\\Symbols\\\\src&quot;\r\n    ]\r\n  }\r\n}</component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"AjKpi.Web: Run\" type=\"LaunchSettings\" factoryName=\".NET Launch Settings Profile\">\r\n      <option name=\"LAUNCH_PROFILE_PROJECT_FILE_PATH\" value=\"$PROJECT_DIR$/Web/AjKpi.Web.csproj\" />\r\n      <option name=\"LAUNCH_PROFILE_TFM\" value=\"net8.0\" />\r\n      <option name=\"LAUNCH_PROFILE_NAME\" value=\"Run\" />\r\n      <option name=\"USE_EXTERNAL_CONSOLE\" value=\"0\" />\r\n      <option name=\"USE_MONO\" value=\"0\" />\r\n      <option name=\"RUNTIME_ARGUMENTS\" value=\"\" />\r\n      <option name=\"GENERATE_APPLICATIONHOST_CONFIG\" value=\"1\" />\r\n      <option name=\"SHOW_IIS_EXPRESS_OUTPUT\" value=\"0\" />\r\n      <option name=\"SEND_DEBUG_REQUEST\" value=\"1\" />\r\n      <option name=\"ADDITIONAL_IIS_EXPRESS_ARGUMENTS\" value=\"\" />\r\n      <method v=\"2\">\r\n        <option name=\"Build\" />\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"17a39ca1-9239-4a14-b61c-3fa5b9e2f69b\" name=\"Changes\" comment=\"\" />\r\n      <created>1726504242240</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1726504242240</updated>\r\n      <workItem from=\"1726504246266\" duration=\"122000\" />\r\n      <workItem from=\"1726504387915\" duration=\"470000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Add BootStrap fix login add login page\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726683709953</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726683709953</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726871992661</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726871992661</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726872009618</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726872009618</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Fix Config  , Remove Setting Service , Remove App module\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727280571819</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727280571819</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Add Transaltion Module\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727281808250</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727281808250</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"[AJKPI] -Add PostGress\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727422855385</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727422855385</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"add migration\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727422892275</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727422892275</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"[AJKPI] - Add PostGress Db And tailwind For Style\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727426993952</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727426993952</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"[Aj Kpi] - ADd Side Bar And Fix Login Page\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727434387378</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727434387378</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"[AjKpi] - Fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727436693655</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727436693655</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"Applay New Layout , Fix User Pages With New Layout , Remove unused Packges\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727491615207</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727491615207</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"Fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727491794406</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727491794406</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"Add USer\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727512454409</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727512454409</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"Add Deprtment Entity\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727550015927</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727550015927</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"Fix Add User With Deparmtent\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727554971123</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727554971123</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"Fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1727581627791</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1727581627791</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"17\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"UnityCheckinConfiguration\" checkUnsavedScenes=\"true\" />\r\n  <component name=\"UnityProjectConfiguration\" hasMinimizedUI=\"false\" />\r\n  <component name=\"Vcs.Log.History.Properties\">\r\n    <option name=\"COLUMN_ID_ORDER\">\r\n      <list>\r\n        <option value=\"Default.Root\" />\r\n        <option value=\"Default.Author\" />\r\n        <option value=\"Default.Date\" />\r\n        <option value=\"Default.Subject\" />\r\n        <option value=\"Space.CommitStatus\" />\r\n        <option value=\"GitHub.CommitStatus\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"CLEAR_INITIAL_COMMIT_MESSAGE\" value=\"true\" />\r\n    <MESSAGE value=\"Rename Solution\" />\r\n    <MESSAGE value=\"Add BootStrap fix login add login page\" />\r\n    <MESSAGE value=\"fix\" />\r\n    <MESSAGE value=\"Fix Config  , Remove Setting Service , Remove App module\" />\r\n    <MESSAGE value=\"Add Transaltion Module\" />\r\n    <MESSAGE value=\"[AJKPI] -Add PostGress\" />\r\n    <MESSAGE value=\"add migration\" />\r\n    <MESSAGE value=\"[AJKPI] - Add PostGress Db And tailwind For Style\" />\r\n    <MESSAGE value=\"[Aj Kpi] - ADd Side Bar And Fix Login Page\" />\r\n    <MESSAGE value=\"[AjKpi] - Fix\" />\r\n    <MESSAGE value=\"Applay New Layout , Fix User Pages With New Layout , Remove unused Packges\" />\r\n    <MESSAGE value=\"Add USer\" />\r\n    <MESSAGE value=\"Add Deprtment Entity\" />\r\n    <MESSAGE value=\"Fix Add User With Deparmtent\" />\r\n    <MESSAGE value=\"Fix\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Fix\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"DotNet Breakpoints\">\r\n          <url>file://$PROJECT_DIR$/Web/EndPoint/AuthEndPoints.cs</url>\r\n          <line>13</line>\r\n          <properties documentPath=\"C:\\GithubRepo\\AJKpi\\source\\Web\\EndPoint\\AuthEndPoints.cs\" containingFunctionPresentation=\"Lambda expression inside Method 'RegisterAuthEndPoints'\">\r\n            <startOffsets>\r\n              <option value=\"411\" />\r\n            </startOffsets>\r\n            <endOffsets>\r\n              <option value=\"453\" />\r\n            </endOffsets>\r\n          </properties>\r\n          <option name=\"timeStamp\" value=\"4\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"DotNet Breakpoints\">\r\n          <url>file://$PROJECT_DIR$/Application/Auth/AuthHandler.cs</url>\r\n          <line>34</line>\r\n          <properties documentPath=\"C:\\GithubRepo\\AJKpi\\source\\Application\\Auth\\AuthHandler.cs\" containingFunctionPresentation=\"Method 'Handle'\">\r\n            <startOffsets>\r\n              <option value=\"1103\" />\r\n            </startOffsets>\r\n            <endOffsets>\r\n              <option value=\"1185\" />\r\n            </endOffsets>\r\n          </properties>\r\n          <option name=\"timeStamp\" value=\"7\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/.idea.Epmo/.idea/workspace.xml b/.idea/.idea.Epmo/.idea/workspace.xml
--- a/.idea/.idea.Epmo/.idea/workspace.xml	(revision b6632af88bd9b51924207cc44c5c43e1db4b0fde)
+++ b/.idea/.idea.Epmo/.idea/workspace.xml	(date 1727611173059)
@@ -8,21 +8,11 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="17a39ca1-9239-4a14-b61c-3fa5b9e2f69b" name="Changes" comment="Fix">
-      <change afterPath="$PROJECT_DIR$/Database/Repositories/CustomeRepositories/IRoleRepository.cs" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/Database/Repositories/CustomeRepositories/RoleRepository.cs" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/Database/Common/AuditableEntitySaveChangesInterceptor.cs" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/.idea.Epmo/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/.idea.Epmo/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Application/Auth/AuthHandler.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Application/Auth/AuthHandler.cs" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Application/Lookup/AutoComplete/AutoCompleteLookupHandler.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Application/Lookup/AutoComplete/AutoCompleteLookupHandler.cs" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Database/CustomeRepositories/Auth/AuthRepository.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Database/CustomeRepositories/Auth/AuthRepository.cs" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Database/CustomeRepositories/User/UserRepository.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Database/CustomeRepositories/User/UserRepository.cs" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/EndPoint/UserEndpoints.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Web/EndPoint/UserEndpoints.cs" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/Frontend/src/app/components/grid/grid.model.ts" beforeDir="false" afterPath="$PROJECT_DIR$/Web/Frontend/src/app/components/grid/grid.model.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/Frontend/src/app/models/user.model.ts" beforeDir="false" afterPath="$PROJECT_DIR$/Web/Frontend/src/app/models/user.model.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.html" beforeDir="false" afterPath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.ts" beforeDir="false" afterPath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/create/create-user.component.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/user.route.ts" beforeDir="false" afterPath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/user.route.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.html" beforeDir="false" afterPath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.ts" beforeDir="false" afterPath="$PROJECT_DIR$/Web/Frontend/src/app/pages/users/users-grid/users-grid.component.ts" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Application/AjKpi.Application.csproj" beforeDir="false" afterPath="$PROJECT_DIR$/Application/AjKpi.Application.csproj" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Application/User/Grid/GridUserHandler.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Application/User/Grid/GridUserHandler.cs" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Database/Context/Context.cs" beforeDir="false" afterPath="$PROJECT_DIR$/Database/Context/Context.cs" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -60,6 +50,8 @@
 }</component>
   <component name="HighlightingSettingsPerFile">
     <setting file="mock:///Dummy.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="mock://C:/GithubRepo/AJKpi/source/Application/Auth/AuthHandler.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="mock://C:/GithubRepo/AJKpi/source/Application/Auth/AuthResponse.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Application/User/Add/AddUserHandler.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Application/User/Add/AddUserHandler.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Database/Common/ModelBuilderExtensions.cs" root0="SKIP_HIGHLIGHTING" />
@@ -84,29 +76,41 @@
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/AppSettings.json" root0="FORCE_HIGHLIGHTING" />
     <setting file="file://$PROJECT_DIR$/Web/Controllers/AttachmentController.cs" root0="FORCE_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Controllers/ExampleController.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Controllers/LookupController.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Controllers/TranslationController.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/EndPoint/DynamicFieldEndPoints.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/EndPoint/EndPointExtension.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="mock://C:/GithubRepo/AJKpi/source/Web/EndPoint/EndPointExtension.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Extensions.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Frontend/angular.json" root0="FORCE_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Frontend/angular.json" root0="FORCE_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Frontend/package.json" root0="FORCE_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Frontend/package.json" root0="FORCE_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Program.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Program.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="mock://C:/GithubRepo/AJKpi/source/Web/Program.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/aspnetcore/3f1acb59718cadf111a0a796681e3d3509bb3381/src/Security/Authentication/JwtBearer/src/JwtBearerExtensions.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/aspnetcore/88ec3bc3f37e76fbcc932a25f9f0c1c29fe2b343/src/Http/Routing/src/Builder/EndpointRouteBuilderExtensions.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/aspnetcore/88ec3bc3f37e76fbcc932a25f9f0c1c29fe2b343/src/Http/Routing/src/Builder/RouteHandlerBuilder.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/efcore/0e8ece3526ef3575fb85de308b8a4cd5840f928e/src/EFCore/DbContext.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/efcore/0e8ece3526ef3575fb85de308b8a4cd5840f928e/src/EFCore/DbContextOptionsBuilder.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/efcore/0e8ece3526ef3575fb85de308b8a4cd5840f928e/src/EFCore/Diagnostics/SaveChangesInterceptor.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/runtime/9f4b1f5d664afdfc80e1508ab7ed099dff210fbd/src/libraries/System.Private.CoreLib/src/System/Runtime/ExceptionServices/ExceptionDispatchInfo.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$USER_HOME$/AppData/Local/Symbols/src/dotnet/runtime/9f4b1f5d664afdfc80e1508ab7ed099dff210fbd/src/libraries/System.Security.Claims/src/System/Security/Claims/Claim.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/3d/c9c56b95/GridExtensions.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/61/363cb2d1/Grid`1.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/61/4878af4b/GridParameters.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/040187955ddf42dc8a9054dd45ff329e4800/d1/ad3dc7e9/Filters.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/0706dcfabddf4241b89dd5a90ab7061526a828/62/1014f485/DbContext.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/1098dce64fce45929810736f4c63e7833800/60/e08f19e8/ResultExtensions.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/3459a27864fe43eba775a67d638a3b152400/cc/fbc74456/IJwtService.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/684ce054b39a492bab9eb23d9d00b1dc1c00/43/fe77f391/Repository`1.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/84eee490ff254fe29dfeea86cc221fd64e908/ec/fc0a14be/IHttpContextAccessor.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/89bb3aceaf744ad5a2e74da5e64268601c00/9b/14acdc50/Extensions.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/c266ada0d74c45eeb13673b0a5698cee2000/d6/5df7c333/Result`1.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/e40bcfedee354eb1926b8a552de740b43a00/49/ef9a07fd/IUnitOfWork.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/DecompilerCache/decompiler/e40bcfedee354eb1926b8a552de740b43a00/eb/bf78c3de/UnitOfWork`1.cs" root0="SKIP_HIGHLIGHTING" />
+    <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/0a588667d4982a931eac28c74bdbfaa7ee5868ed8bc644e4f418acc71f1ee6/JwtRegisteredClaimNames.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/6ab065e71b67a58353252c508034d8ce99cd5d107af61c5b67ec32c6e63c3e68/MySqlDbContextOptionsBuilderExtensions.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/831dd819e356bcbbca7251efe53af23551b77c6ee16da4c74a7411355e8253/MySqlServerVersion.cs" root0="SKIP_HIGHLIGHTING" />
     <setting file="file://$APPLICATION_CONFIG_DIR$/resharper-host/SourcesCache/a89238f783113aedddac86be07ac171dedee43198ca6a1f8172cf26b8ce064/MySqlConnectorServiceCollectionExtensions.cs" root0="FORCE_HIGHLIGHTING" />
@@ -122,29 +126,29 @@
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;.NET Launch Settings Profile.AjKpi.Web: Run.executor&quot;: &quot;Debug&quot;,
-    &quot;DefaultHtmlFileTemplate&quot;: &quot;HTML File&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;git-widget-placeholder&quot;: &quot;main&quot;,
-    &quot;list.type.of.created.stylesheet&quot;: &quot;SCSS&quot;,
-    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
-    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
-    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
-    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
-    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
-    &quot;ts.external.directory.path&quot;: &quot;C:\\GithubRepo\\AJKpi\\source\\Web\\Frontend\\node_modules\\typescript\\lib&quot;,
-    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    ".NET Launch Settings Profile.AjKpi.Web: Run.executor": "Run",
+    "DefaultHtmlFileTemplate": "HTML File",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "git-widget-placeholder": "main",
+    "list.type.of.created.stylesheet": "SCSS",
+    "node.js.detected.package.eslint": "true",
+    "node.js.detected.package.tslint": "true",
+    "node.js.selected.package.eslint": "(autodetect)",
+    "node.js.selected.package.tslint": "(autodetect)",
+    "nodejs_package_manager_path": "npm",
+    "ts.external.directory.path": "C:\\GithubRepo\\AJKpi\\source\\Web\\Frontend\\node_modules\\typescript\\lib",
+    "vue.rearranger.settings.migration": "true"
   },
-  &quot;keyToStringList&quot;: {
-    &quot;rider.external.source.directories&quot;: [
-      &quot;C:\\Users\\o.hamdan\\AppData\\Roaming\\JetBrains\\Rider2024.1\\resharper-host\\DecompilerCache&quot;,
-      &quot;C:\\Users\\o.hamdan\\AppData\\Roaming\\JetBrains\\Rider2024.1\\resharper-host\\SourcesCache&quot;,
-      &quot;C:\\Users\\o.hamdan\\AppData\\Local\\Symbols\\src&quot;
+  "keyToStringList": {
+    "rider.external.source.directories": [
+      "C:\\Users\\o.hamdan\\AppData\\Roaming\\JetBrains\\Rider2024.1\\resharper-host\\DecompilerCache",
+      "C:\\Users\\o.hamdan\\AppData\\Roaming\\JetBrains\\Rider2024.1\\resharper-host\\SourcesCache",
+      "C:\\Users\\o.hamdan\\AppData\\Local\\Symbols\\src"
     ]
   }
-}</component>
+}]]></component>
   <component name="RunManager">
     <configuration name="AjKpi.Web: Run" type="LaunchSettings" factoryName=".NET Launch Settings Profile">
       <option name="LAUNCH_PROFILE_PROJECT_FILE_PATH" value="$PROJECT_DIR$/Web/AjKpi.Web.csproj" />
@@ -301,7 +305,23 @@
       <option name="project" value="LOCAL" />
       <updated>1727581627791</updated>
     </task>
-    <option name="localTasksCounter" value="17" />
+    <task id="LOCAL-00017" summary="Fixes Finilize User Work Add , update -&gt; to Do Fix AutoComplate">
+      <option name="closed" value="true" />
+      <created>1727588231531</created>
+      <option name="number" value="00017" />
+      <option name="presentableId" value="LOCAL-00017" />
+      <option name="project" value="LOCAL" />
+      <updated>1727588231531</updated>
+    </task>
+    <task id="LOCAL-00018" summary="Fix">
+      <option name="closed" value="true" />
+      <created>1727595949379</created>
+      <option name="number" value="00018" />
+      <option name="presentableId" value="LOCAL-00018" />
+      <option name="project" value="LOCAL" />
+      <updated>1727595949379</updated>
+    </task>
+    <option name="localTasksCounter" value="19" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -348,6 +368,7 @@
     <MESSAGE value="Add USer" />
     <MESSAGE value="Add Deprtment Entity" />
     <MESSAGE value="Fix Add User With Deparmtent" />
+    <MESSAGE value="Fixes Finilize User Work Add , update -&gt; to Do Fix AutoComplate" />
     <MESSAGE value="Fix" />
     <option name="LAST_COMMIT_MESSAGE" value="Fix" />
   </component>
@@ -369,18 +390,36 @@
         </line-breakpoint>
         <line-breakpoint enabled="true" type="DotNet Breakpoints">
           <url>file://$PROJECT_DIR$/Application/Auth/AuthHandler.cs</url>
-          <line>34</line>
+          <line>35</line>
           <properties documentPath="C:\GithubRepo\AJKpi\source\Application\Auth\AuthHandler.cs" containingFunctionPresentation="Method 'Handle'">
             <startOffsets>
-              <option value="1103" />
+              <option value="1141" />
             </startOffsets>
             <endOffsets>
-              <option value="1185" />
+              <option value="1223" />
             </endOffsets>
           </properties>
           <option name="timeStamp" value="7" />
+        </line-breakpoint>
+        <line-breakpoint enabled="true" type="DotNet Breakpoints">
+          <url>file://$PROJECT_DIR$/Application/User/Grid/GridUserHandler.cs</url>
+          <line>16</line>
+          <properties documentPath="C:\GithubRepo\AJKpi\source\Application\User\Grid\GridUserHandler.cs" containingFunctionPresentation="Method 'Handle'">
+            <startOffsets>
+              <option value="680" />
+            </startOffsets>
+            <endOffsets>
+              <option value="727" />
+            </endOffsets>
+          </properties>
+          <option name="timeStamp" value="8" />
         </line-breakpoint>
       </breakpoints>
     </breakpoint-manager>
+    <pin-to-top-manager>
+      <pinned-members>
+        <PinnedItemInfo parentTag="Type#System.Security.Claims.ClaimsIdentity" memberName="Claims" />
+      </pinned-members>
+    </pin-to-top-manager>
   </component>
 </project>
\ No newline at end of file
Index: Application/User/Grid/GridUserHandler.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using AjKpi.Database;\r\nusing AjKpi.Model;\r\nusing static System.Net.HttpStatusCode;\r\n\r\nnamespace AjKpi.Application;\r\n\r\npublic sealed record GridUserHandler : IRequestHandler<GridUserRequest, Result<Grid<UserModel>>>\r\n{\r\n    private readonly IUserRepository _userRepository;\r\n\r\n    public GridUserHandler(IUserRepository userRepository) => _userRepository = userRepository;\r\n\r\n    public async Task<Result<Grid<UserModel>>> Handle(GridUserRequest request , CancellationToken cancellationToken)\r\n    {\r\n        var grid = await _userRepository.GridAsync(request);\r\n\r\n        return new Result<Grid<UserModel>>(grid is null ? NotFound : OK, grid);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Application/User/Grid/GridUserHandler.cs b/Application/User/Grid/GridUserHandler.cs
--- a/Application/User/Grid/GridUserHandler.cs	(revision b6632af88bd9b51924207cc44c5c43e1db4b0fde)
+++ b/Application/User/Grid/GridUserHandler.cs	(date 1727593573508)
@@ -1,5 +1,6 @@
 using AjKpi.Database;
 using AjKpi.Model;
+using Microsoft.AspNetCore.Http;
 using static System.Net.HttpStatusCode;
 
 namespace AjKpi.Application;
@@ -7,11 +8,14 @@
 public sealed record GridUserHandler : IRequestHandler<GridUserRequest, Result<Grid<UserModel>>>
 {
     private readonly IUserRepository _userRepository;
+    private readonly IHttpContextAccessor _httpContextAccessor;
 
-    public GridUserHandler(IUserRepository userRepository) => _userRepository = userRepository;
+    public GridUserHandler(IUserRepository userRepository , IHttpContextAccessor httpContextAccessor) => (_userRepository ,_httpContextAccessor)= (userRepository, httpContextAccessor);
 
     public async Task<Result<Grid<UserModel>>> Handle(GridUserRequest request , CancellationToken cancellationToken)
     {
+        var s = _httpContextAccessor.HttpContext?.User;
+
         var grid = await _userRepository.GridAsync(request);
 
         return new Result<Grid<UserModel>>(grid is null ? NotFound : OK, grid);
